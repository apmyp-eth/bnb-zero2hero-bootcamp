# Децентрализованная система оракулов поставки финансовых данных

## Демонстрация получения данных

https://zero2hero-bootcamp-oracles-front.vercel.app/

## Архитектура

Можно представить следующей ASCII-графикой:

```
                      DataFeed
                         |
     +-------------------+----------------------------+
     |                   |                            |
Aggregator          Aggregator                   Aggregator
     |                   |                            |
     |                   |                            |
Transmitter        Transmitter <== Sequencer     Transmitter 
     |                   |                            |
    ...               +--+--+                        ...
                     /   |   \
                Oracle Oracle Oracle
```

Описание компонентов:

* DataFeed - это прокси для вызова Aggregator-ов хранящий соответствие код символа - адрес Aggregator
* Aggregator - контракт хранящий историю цен конкретного символа и позволяющий получить доступ к последней цене (основная функция)
* Transmitter - контракт обрабатывающий и проверяющий поступающие цены от Oracle-ов
* Sequencer - внешний инструмент (скрипт) периодически вызывающий Transmitter для открытия и закрытия т.н. раундов
* Oracle - скрипт прослушивающий событие открытия раунда в Transmitter, извлекающий цену от поставщика цен и отправляющий её в Transmitter

## Дополнительная информация

* для проверки оракулов используется ECDSA-подпись прикреплямая ими в транзакции с ценой
* проверяется отклонение цен от предыдущей известной, запаздывание ответа на уровне метки времени от оракула и метки времени транзакции ответа
* если средняя цена раунда (от всех оракулов приславших цену в Transmitter) не отличается от средней цены прошлого раунда, то она не сохраняется в Aggregator
* все смарт-контракты Ownable и позволяют произвести горячую замену